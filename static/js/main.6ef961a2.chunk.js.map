{"version":3,"sources":["components/Form/styles.module.scss","components/Footer/styles.module.scss","styles.module.scss","components/Header/styles.module.scss","components/Table/styles.module.scss","components/Header/index.js","utils/utils.js","components/Table/index.js","components/Form/index.js","components/Footer/index.js","App.js","index.js"],"names":["module","exports","Header","id","styles","header","formatData","data","isFromAPI","formatter","Intl","NumberFormat","style","currency","forEach","car","num","valor_fipe","format","Number","parseInt","toString","replace","groupByBrand","key","array","reduce","objectsByKeyValue","obj","value","toUpperCase","concat","Table","useQuery","axios","get","refetchOnWindowFocus","useState","carsData","setCarsData","useEffect","apiData","persistedCars","JSON","parse","localStorage","getItem","cars","getData","Object","entries","map","index","mainTable","nome_modelo","ano","cor","combustivel","num_portas","Form","toggleForm","newCar","setNewCar","handleChange","event","target","name","modalBackground","modal","onSubmit","preventDefault","push","setItem","stringify","updateLocalStorage","type","placeholder","required","onChange","buttonsContainer","onClick","className","button","Footer","developedBy","href","rel","color","size","queryClient","QueryClient","App","showFormModal","setShowFormModal","client","container","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6ef961a2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackground\":\"styles_modalBackground__3E8UY\",\"modal\":\"styles_modal__EmFcJ\",\"buttonsContainer\":\"styles_buttonsContainer__2e6Zo\",\"button\":\"styles_button__Rvbjj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"developedBy\":\"styles_developedBy__3cYWn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2lZ6n\",\"button\":\"styles_button__2nSFX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__17UFi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainTable\":\"styles_mainTable__21wVV\"};","import styles from './styles.module.scss'\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header id={styles.header}>\r\n      <h1>Teste WS-Work</h1>\r\n      <h3>Informações de veículos agrupadas por marca</h3>\r\n    </header>\r\n  )\r\n}\r\n","export function formatData(data, isFromAPI) {\r\n  const formatter = new Intl.NumberFormat('pt-BR', {\r\n    style: 'currency',\r\n    currency: 'BRL',\r\n  })\r\n\r\n  data.forEach((car) => {\r\n    const num = car.valor_fipe\r\n    if (isFromAPI) {\r\n      if (num % 1 !== 0) {\r\n        car.valor_fipe = formatter.format(Number.parseInt(car.valor_fipe.toString().replace('.', '') + '00'))\r\n      } else {\r\n        car.valor_fipe = formatter.format(Number.parseInt(car.valor_fipe.toString().replace('.', '') + '000'))\r\n      }\r\n    } else {\r\n      car.valor_fipe = formatter.format(car.valor_fipe)\r\n    }\r\n  })\r\n\r\n  return data\r\n}\r\n\r\nexport function groupByBrand(data) {\r\n  const groupBy = (key) => (array) =>\r\n    array.reduce((objectsByKeyValue, obj) => {\r\n      const value = obj[key].toUpperCase()\r\n      objectsByKeyValue[value] = (objectsByKeyValue[value] || []).concat(obj)\r\n      return objectsByKeyValue\r\n    }, {})\r\n\r\n  const groupByBrand = groupBy('marca_nome')\r\n\r\n  return groupByBrand(data)\r\n}\r\n","import axios from 'axios'\r\nimport { useEffect, useState } from 'react'\r\nimport { useQuery } from 'react-query'\r\n\r\nimport { formatData, groupByBrand } from '../../utils/utils'\r\n\r\nimport styles from './styles.module.scss'\r\n\r\nfunction getData(data) {\r\n  let apiData\r\n  let carsData = []\r\n  let persistedCars = JSON.parse(localStorage.getItem('persistedCars'))\r\n\r\n  if (persistedCars && data) {\r\n    persistedCars = formatData(persistedCars.array, false)\r\n    apiData = formatData(data.data.cars, true)\r\n\r\n    carsData = persistedCars.concat(apiData)\r\n    carsData = groupByBrand(carsData)\r\n  } else if (persistedCars && !data) {\r\n    persistedCars = formatData(persistedCars.array, false)\r\n\r\n    carsData = groupByBrand(persistedCars)\r\n  } else if (!persistedCars && data) {\r\n    apiData = formatData(data.data.cars, true)\r\n\r\n    carsData = groupByBrand(apiData)\r\n  } else {\r\n    return null\r\n  }\r\n\r\n  return carsData\r\n}\r\n\r\nexport default function Table() {\r\n  let { data } = useQuery(['carsData'], () => axios.get('http://demo0566678.mockable.io/test-ws-front'), { refetchOnWindowFocus: false })\r\n  const [carsData, setCarsData] = useState()\r\n\r\n  useEffect(() => {\r\n    setCarsData(getData(data))\r\n  }, [data])\r\n\r\n  return (\r\n    <>\r\n      {carsData ? (\r\n        <main>\r\n          {Object.entries(carsData).map(([key, value], index) => {\r\n            return (\r\n              <div key={index}>\r\n                <h2>{key}</h2>\r\n                <table id={styles.mainTable}>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Modelo</th>\r\n                      <th>Ano</th>\r\n                      <th>Cor</th>\r\n                      <th>Combustível</th>\r\n                      <th>Nº de portas</th>\r\n                      <th>Valor FIPE</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {value.map((car, index) => (\r\n                      <tr key={index}>\r\n                        <td>{car.nome_modelo}</td>\r\n                        <td>{car.ano}</td>\r\n                        <td>{car.cor}</td>\r\n                        <td>{car.combustivel}</td>\r\n                        <td>{car.num_portas}</td>\r\n                        <td>{car.valor_fipe}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )\r\n          })}\r\n        </main>\r\n      ) : (\r\n        <h2>Sem dados no momento, adicione um veículo ou tente novamente mais tarde</h2>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\n\r\nimport styles from './styles.module.scss'\r\n\r\nexport default function Form({ toggleForm }) {\r\n  const [newCar, setNewCar] = useState()\r\n\r\n  function updateLocalStorage() {\r\n    const persistedCars = JSON.parse(localStorage.getItem('persistedCars'))\r\n    if (persistedCars) {\r\n      persistedCars.array.push(newCar)\r\n      localStorage.setItem('persistedCars', JSON.stringify(persistedCars))\r\n    } else {\r\n      localStorage.setItem('persistedCars', JSON.stringify({ array: [newCar] }))\r\n    }\r\n  }\r\n\r\n  function handleChange(event) {\r\n    setNewCar({\r\n      ...newCar,\r\n      [event.target.name]: event.target.value,\r\n    })\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault()\r\n    updateLocalStorage()\r\n    toggleForm()\r\n  }\r\n\r\n  return (\r\n    <div id={styles.modalBackground}>\r\n      <div id={styles.modal}>\r\n        <h2>Adicionar veículo</h2>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <fieldset>\r\n            <legend>Preencha os campos abaixo para adicionar um veículo</legend>\r\n            <label>\r\n              Modelo\r\n              <input type='text' name='nome_modelo' placeholder='Focus' required onChange={handleChange}></input>\r\n            </label>\r\n            <label>\r\n              Marca\r\n              <input type='text' name='marca_nome' placeholder='Ford' required onChange={handleChange}></input>\r\n            </label>\r\n            <label>\r\n              Ano\r\n              <input type='text' name='ano' placeholder='2021' required onChange={handleChange}></input>\r\n            </label>\r\n            <label>\r\n              Cor\r\n              <input type='text' name='cor' placeholder='Preto' required onChange={handleChange}></input>\r\n            </label>\r\n            <label>\r\n              Combustível\r\n              <input type='text' name='combustivel' placeholder='Gasolina' required onChange={handleChange}></input>\r\n            </label>\r\n            <label>\r\n              Nº de portas\r\n              <input type='text' name='num_portas' placeholder='4' required onChange={handleChange}></input>\r\n            </label>\r\n            <label>\r\n              Valor FIPE\r\n              <input type='text' name='valor_fipe' placeholder='85000' required onChange={handleChange}></input>\r\n            </label>\r\n\r\n            <div id={styles.buttonsContainer}>\r\n              <button type='reset' onClick={toggleForm} className={styles.button}>\r\n                Cancelar\r\n              </button>\r\n              <button type='submit' className={styles.button}>\r\n                Adicionar\r\n              </button>\r\n            </div>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { FaGithub, FaLinkedinIn } from 'react-icons/fa'\r\n\r\nimport styles from './styles.module.scss'\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer id={styles.header}>\r\n      <pre id={styles.developedBy}>\r\n        Desenvolvido por Leonardo Teixeira!\r\n        <a href='https://github.com/leort-z' target='_blank' rel='noreferrer'>\r\n          <FaGithub color='white' size='1rem' />\r\n        </a>\r\n        <a href='https://www.linkedin.com/in/leortz/' target='_blank' rel='noreferrer'>\r\n          <FaLinkedinIn color='white' size='1rem' />\r\n        </a>\r\n      </pre>\r\n    </footer>\r\n  )\r\n}\r\n","import { QueryClient, QueryClientProvider } from 'react-query'\nimport { useState } from 'react'\n\nimport Header from './components/Header'\nimport Table from './components/Table'\nimport Form from './components/Form'\nimport Footer from './components/Footer'\n\nimport styles from './styles.module.scss'\n\nconst queryClient = new QueryClient()\n\nexport default function App() {\n  const [showFormModal, setShowFormModal] = useState(false)\n\n  function toggleForm() {\n    setShowFormModal(!showFormModal)\n  }\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      {showFormModal && <Form toggleForm={toggleForm} />}\n      <Header />\n      <div id={styles.container}>\n        <button type='button' className={styles.button} onClick={toggleForm}>\n          Adicionar veículo\n        </button>\n        <Table key={showFormModal} />\n      </div>\n      <Footer />\n    </QueryClientProvider>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}